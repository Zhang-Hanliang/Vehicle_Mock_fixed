# ğŸ¯ CCU ç¯å…‰æ§åˆ¶å†²çªé—®é¢˜ - æœ€ç»ˆå®Œæ•´åˆ†æ

> **é‡è¦çº æ­£**ï¼šæœ¬æ–‡æ¡£åŸºäºå®é™…ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼Œä¿®æ­£äº†ä¹‹å‰å…³äº simulator çš„é”™è¯¯ç†è§£ã€‚

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¶æ„åˆ†æ](#ç³»ç»Ÿæ¶æ„åˆ†æ)
2. [é—®é¢˜æ ¹æºåˆ†æ](#é—®é¢˜æ ¹æºåˆ†æ)
3. [ä¿®å¤æ–¹æ¡ˆ](#ä¿®å¤æ–¹æ¡ˆ)
4. [åŸç†è§£é‡Š](#åŸç†è§£é‡Š)
5. [åç»­æ‰©å±•åˆ†æ](#åç»­æ‰©å±•åˆ†æ)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„åˆ†æ

### **å®é™…ç”Ÿäº§ç¯å¢ƒæ¶æ„ï¼ˆåŸºäº docker ps å®é™…è¿è¡Œå®¹å™¨ï¼‰**

```
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚       AWS IoT Cloud                     â”‚
            â”‚   (ç”¨æˆ·é€šè¿‡ AWS æ§åˆ¶è½¦è¾†)               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ MQTT over Internet
                        â†“ (AWS IoT Core)
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               1. databroker (æ ¸å¿ƒæ•°æ®ä¸­å¿ƒ)                â”‚
â”‚                  ghcr.io/eclipse/kuksa.val/databroker     â”‚
â”‚                  - VSS ä¿¡å·ä¸­å¿ƒæ¢çº½                       â”‚
â”‚                  - target_value / current_value ç®¡ç†      â”‚
â”‚                  - å¤šå®¢æˆ·ç«¯åè°ƒæœºåˆ¶                       â”‚
â”‚                  - gRPC æ¥å£: 127.0.0.1:55555            â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“               â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚2.aws-   â”‚  â”‚3.applet-   â”‚  â”‚4.vehicle-  â”‚  â”‚5.someip-   â”‚
â”‚  cloud- â”‚  â”‚  manager   â”‚  â”‚  mock      â”‚  â”‚  feeders   â”‚
â”‚  connectorâ”‚ â”‚            â”‚  â”‚            â”‚  â”‚            â”‚
â”‚         â”‚  â”‚v001.mdc2   â”‚  â”‚v001arm     â”‚  â”‚feeders-v3  â”‚
â”‚MQTTæ¡¥æ¥ â”‚  â”‚â­Appç®¡ç†   â”‚  â”‚âŒé—®é¢˜æº    â”‚  â”‚â­ç¡¬ä»¶é€šä¿¡  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
     â†“             â†“               â†“                â†“
 MQTTåŒå‘      subprocess      ç›‘å¬target      CAN Bus
  AWS IoT        Popen        åŒæ­¥current      SOME/IP
     â†‘             â†“               â†“                â†“
     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚      â”‚ Python Apps â”‚       â”‚         â”‚ Hardware â”‚
     â”‚      â”‚ (åŠ¨æ€éƒ¨ç½²)  â”‚       â”‚         â”‚ (OWA5X)  â”‚
     â”‚      â”‚â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”â”‚       â”‚         â”‚  ECU     â”‚
     â”‚      â”‚â”‚App 1 â”‚â”‚Appâ”‚â”‚       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚      â”‚â”‚(å€’è½¦)â”‚â”‚ 2 â”‚â”‚       â”‚
     â”‚      â”‚â””â”€â”€â”¬â”€â”€â”€â”˜â””â”¬â”€â”€â”˜â”‚       â”‚
     â”‚      â””â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜       â”‚
     â”‚          â†“     â†“           â†“
     â””â”€â”€â”€â”€â”€â”€â†’ gRPC Client â†â”€â”€â”€â”€â”€â”€â”€â”˜
            (127.0.0.1:55555)

æ¶æ„å±‚çº§è¯´æ˜ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Layer 0: AWS IoT Cloud (äº‘ç«¯æ§åˆ¶ç•Œé¢)
         â†“ MQTT over Internet
Layer 1: databroker (æ ¸å¿ƒæ•°æ®ä¸­å¿ƒ - æ‰€æœ‰å®¢æˆ·ç«¯çš„æ¢çº½)
         â†“ â†“ â†“ â†“ (4ä¸ªå¹¶è¡Œå®¢æˆ·ç«¯åŒæ—¶è¿æ¥)
Layer 2: 4ä¸ª DataBroker å®¢æˆ·ç«¯å®¹å™¨ï¼š
         â”œâ”€ aws-cloud-connector  (äº‘ç«¯æ¡¥æ¥ - åŒå‘è¯»å†™)
         â”œâ”€ applet-manager       (åº”ç”¨ç®¡ç† - å¯åŠ¨å­è¿›ç¨‹)
         â”œâ”€ vehicle-mock         (çŠ¶æ€åŒæ­¥ - é—®é¢˜æº)
         â””â”€ someip-feeders       (ç¡¬ä»¶é€šä¿¡ - ä¿¡å·è¾“å‡º)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®é™…è¿è¡Œçš„ 5 ä¸ªå®¹å™¨ï¼ˆdocker ps è¾“å‡ºï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CONTAINER ID   IMAGE                            STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
a34c86193de0   kuksa.val/databroker:master     Up 12 seconds
7fd6c6ee7c6f   cloud-connector:...nocerts      Up 12 seconds  
6101f8825ce7   someip-feeder:feeders-v3        Up 12 seconds
d22ace0cb160   vehicle-mock:v001arm            Up 12 seconds
2be3cad6da90   applet-manager:v001.mdc2.arm    Up 12 seconds
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å…³é”®ç†è§£ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… DataBroker æ˜¯ä¸­å¿ƒæ¢çº½ (å”¯ä¸€çš„ Layer 1)
âœ… å…¶ä»–4ä¸ªå®¹å™¨éƒ½æ˜¯å¹³ç­‰çš„å®¢æˆ·ç«¯ (éƒ½åœ¨ Layer 2)
âœ… aws-cloud-connector å’Œ applet-manager åŒå±‚çº§
âœ… å¤šä¸ªå®¢æˆ·ç«¯å¯åŒæ—¶å†™å…¥ DataBroker (å¤šå®¢æˆ·ç«¯åè°ƒ)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ•°æ®æµè¯´æ˜ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å†™å…¥è·¯å¾„ï¼ˆæ§åˆ¶å‘½ä»¤ï¼‰ï¼š
â‘  AWS IoT Cloud â†’ aws-cloud-connector â†’ DataBroker (target)
â‘¡ AWS éƒ¨ç½²å‘½ä»¤ â†’ applet-manager â†’ å¯åŠ¨ Python Apps â†’ DataBroker (target)
â‘¢ vehicle-mock ç›‘å¬ DataBroker target â†’ åŒæ­¥åˆ° current âŒ é—®é¢˜
â‘£ someip-feeders ç›‘å¬ DataBroker target â†’ CAN Bus â†’ ç¡¬ä»¶ âœ…

è¯»å–è·¯å¾„ï¼ˆçŠ¶æ€åé¦ˆï¼‰ï¼š
â‘¤ DataBroker current â†’ aws-cloud-connector â†’ AWS IoT Cloud
â‘¥ DataBroker current â†’ Python Apps (æŸ¥è¯¢çŠ¶æ€)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æœªè¿è¡Œçš„æœåŠ¡ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
mosquitto          âŒ docker-compose.yml ä¸­æœ‰ï¼Œä½†æœªå¯åŠ¨
vehicle-simulator  âŒ ä»…ä»£ç ä»“åº“ï¼Œæ— å®¹å™¨é•œåƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### **å…³é”®çº æ­£ï¼šä»£ç ä»“åº“ vs å®é™…éƒ¨ç½²**

**âŒ é”™è¯¯ç†è§£ï¼ˆä¹‹å‰çš„å›ç­”ï¼‰ï¼š**
```
ä»¥ä¸º vehicle-simulator å‚ä¸è¿è¡Œæ—¶æ•°æ®æµ
ä»¥ä¸ºéœ€è¦ simulator è¿›è¡Œä¿¡å·è½¬æ¢
ä»¥ä¸º mosquitto åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œ
```

**âœ… æ­£ç¡®ç†è§£ï¼ˆåŸºäºå®é™…æƒ…å†µï¼‰ï¼š**

**ä»£ç ä»“åº“ç»“æ„ï¼ˆCCU æ–‡ä»¶å¤¹ï¼‰ï¼š**
```
CCU/
â”œâ”€â”€ applet-manager/       âœ… éƒ¨ç½²ä¸ºå®¹å™¨ (åœ¨ docker-compose.yml ä¸­)
â”œâ”€â”€ cloud-connector/      âœ… éƒ¨ç½²ä¸ºå®¹å™¨ (aws-cloud-connector)
â”œâ”€â”€ someip-feeder/        âœ… éƒ¨ç½²ä¸ºå®¹å™¨ (someip-feeders)
â”œâ”€â”€ vehicle-mock/         âœ… éƒ¨ç½²ä¸ºå®¹å™¨ (vehicle-mock)
â”œâ”€â”€ vehicle-simulator/    âŒ ä¸éƒ¨ç½² (å¼€å‘å·¥å…·ï¼Œæ—  Dockerfile)
â”œâ”€â”€ fota-service/         âš ï¸  ç³»ç»ŸæœåŠ¡ (éå®¹å™¨)
â””â”€â”€ docker-compose.yml    ğŸ“‹ å®¹å™¨ç¼–æ’é…ç½®
```

**docker-compose.yml å®šä¹‰çš„æœåŠ¡ï¼š**
```yaml
services:
  mosquitto:           âŒ æœªè¿è¡Œ (docker ps ä¸­ä¸å­˜åœ¨)
  aws-cloud-connector: âœ… è¿è¡Œä¸­
  someip-feeders:      âœ… è¿è¡Œä¸­
  databroker:          âœ… è¿è¡Œä¸­
  vehicle-mock:        âœ… è¿è¡Œä¸­
  applet-manager:      âœ… è¿è¡Œä¸­
```

**å®é™…è¿è¡Œçš„ 5 ä¸ªå®¹å™¨ï¼ˆdocker psï¼‰ï¼š**
1. âœ… `databroker` - KUKSA VSS æ•°æ®ä¸­å¿ƒ
2. âœ… `aws-cloud-connector` - AWS IoT è¿æ¥ + gRPC å®¢æˆ·ç«¯
3. âœ… `someip-feeders` - ç¡¬ä»¶é€šä¿¡ + ä¿¡å·è½¬æ¢
4. âœ… `vehicle-mock` - targetâ†’current åŒæ­¥ï¼ˆé—®é¢˜æºï¼‰
5. âœ… `applet-manager` - åŠ¨æ€ Python App ç®¡ç†å™¨

**æœªè¿è¡Œçš„æœåŠ¡ï¼š**
- âŒ `mosquitto` - åœ¨ docker-compose.yml ä¸­å®šä¹‰ä½†æœªå¯åŠ¨
  - åŸå› ï¼šaws-cloud-connector ç›´æ¥è¿æ¥ AWS IoT Core
  - é…ç½®ï¼šSDV_MQTT_ADDRESS=mqtt://127.0.0.1:1883ï¼ˆå›é€€é€‰é¡¹ï¼‰

**ä»£ç ä»“åº“å­˜åœ¨ä½†ä¸éƒ¨ç½²çš„ç»„ä»¶ï¼š**
- âŒ `vehicle-simulator` - å¼€å‘ç¯å¢ƒä»¿çœŸå™¨
  - ç”¨é€”ï¼šæ— çœŸå®ç¡¬ä»¶æ—¶æ¨¡æ‹Ÿä¿¡å·
  - ç‰¹å¾ï¼šä»…æœ‰ Python ä»£ç ï¼Œæ—  Dockerfile
  - çŠ¶æ€ï¼šä¸åœ¨ docker-compose.yml ä¸­

**ä¸ºä»€ä¹ˆ mosquitto æœªè¿è¡Œï¼š**
```
aws-cloud-connector çš„çµæ´»æ¶æ„ï¼š

æ¨¡å¼ 1 (å½“å‰ç”Ÿäº§ç¯å¢ƒ): ç›´æ¥è¿æ¥ AWS IoT Core
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aws-cloud-connector        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ AWS IoT SDK           â”‚â”€â”€â”¼â”€â”€â†’ AWS IoT Core (MQTT)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ gRPC Client           â”‚â”€â”€â”¼â”€â”€â†’ DataBroker (gRPC)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¨¡å¼ 2 (å¼€å‘/æµ‹è¯•ç¯å¢ƒ): é€šè¿‡æœ¬åœ° mosquitto
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aws-cloud-connector        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MQTT Client           â”‚â”€â”€â”¼â”€â”€â†’ mosquitto:1883
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â†“
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   æœ¬åœ°æµ‹è¯•å·¥å…·
â”‚  â”‚ gRPC Client           â”‚â”€â”€â”¼â”€â”€â†’ DataBroker
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… ç”Ÿäº§ç¯å¢ƒï¼šç›´æ¥è¿æ¥ AWS IoT Core (æ›´å®‰å…¨ã€æ›´ç®€æ´)
âœ… å¼€å‘ç¯å¢ƒï¼šå¯ä»¥å¯åŠ¨ mosquitto è¿›è¡Œæœ¬åœ°è°ƒè¯•
```

**Simulator çš„çœŸå®ç”¨é€”ï¼š**
- ğŸ“ ä½äºä»£ç ä»“åº“ `CCU/vehicle-simulator/`
- ğŸ› ï¸ ç”¨äºå¼€å‘ç¯å¢ƒæµ‹è¯•
- ğŸ§ª ç”¨äºå•å…ƒæµ‹è¯•ä¿¡å·æ˜ å°„
- âŒ ä¸éƒ¨ç½²åˆ°ç”Ÿäº§ CCU
- âŒ ä¸å‚ä¸è¿è¡Œæ—¶æ•°æ®æµ

**ä¿¡å·è½¬æ¢ç”±è°è´Ÿè´£ï¼šSOME-IP Feeder**
```cpp
// someip-feeders çš„ä»£ç é€»è¾‘
void SomeipFeederAdapter::on_actuator_change(ActuatorValues target_values) {
    // 1. ç›‘å¬ DataBroker çš„ target_value å˜åŒ–
    // 2. è§£æ ExteriorLightControl æ•°ç»„: [lightId, state, brightness]
    // 3. è½¬æ¢ä¸º SOME/IP åè®®æ ¼å¼
    // 4. é€šè¿‡ CAN Bus å‘é€åˆ°ç¡¬ä»¶ ECU
    someip_client_->SendRequest(serviceID, instanceID, methodID, payload);
}
```

---

## ğŸ” é—®é¢˜æ ¹æºåˆ†æ

### **é—®é¢˜ç°è±¡**

```
åœºæ™¯ï¼š
1. ç”¨æˆ·é€šè¿‡ AWS Frontend æ‰“å¼€åŒé—ª
   â†’ DataBroker: ExteriorLightControl = [15, 1, 125]
   
2. ç”¨æˆ·åˆ‡æ¢åˆ° R æ¡£
   â†’ Python Applet è§¦å‘ï¼Œå†™å…¥å€’è½¦ç¯å‘½ä»¤
   â†’ DataBroker: ExteriorLightControl = [16, 1, 125, 17, 1, 125]
   
å®é™…ç»“æœï¼šâŒ åŒé—ªè¢«å…³é—­ï¼Œåªæœ‰å€’è½¦ç¯äº®
é¢„æœŸç»“æœï¼šâœ… åŒé—ªå’Œå€’è½¦ç¯åŒæ—¶å·¥ä½œ
```

### **æ ¹æœ¬åŸå› ï¼šMock çš„ Last-Write-Wins è¦†ç›–è¡Œä¸º**

#### **1. Mock çš„å·¥ä½œæœºåˆ¶**

```python
# mock.py é…ç½®
listOfSignals = [
    {"signal": "Vehicle.Body.Lights.ExteriorLightControl", "value": [1, 2, 3]},  # âŒ é—®é¢˜è¡Œ
    # ... å…¶ä»–ä¿¡å·
]

# Mock çš„è¡Œä¸ºé€»è¾‘
for signal in listOfSignals:
    mock_datapoint(
        path=signal["signal"],
        behaviors=[
            create_behavior(
                trigger=create_event_trigger(EventType.ACTUATOR_TARGET),  # ç›‘å¬ target_value
                action=create_set_action("$event.value"),                 # å¤åˆ¶åˆ° current_value
            )
        ],
    )
```

```python
# mockservice.py çš„è¦†ç›–é€»è¾‘
def _set_datapoint(self, path: str, value: Any):
    # âŒ ç›´æ¥è¦†ç›–ï¼Œæ²¡æœ‰åˆå¹¶é€»è¾‘
    self._client.set_current_values({path: Datapoint(formatted_value)})
```

#### **2. é—®é¢˜æ—¶é—´çº¿**

```
T0: AWS Frontend å†™å…¥åŒé—ª
    â†’ DataBroker.target_value = [15, 1, 125]
    â†“
T1: Mock ç›‘å¬åˆ° ACTUATOR_TARGET äº‹ä»¶
    â†’ Mock è¯»å– target_value: [15, 1, 125]
    â†’ Mock å†™å…¥ current_value: [15, 1, 125]
    âœ… æ­¤æ—¶æ­£å¸¸
    â†“
T2: Python Applet å†™å…¥å€’è½¦ç¯
    â†’ DataBroker.target_value = [16, 1, 125, 17, 1, 125]
    (DataBroker åº”è¯¥åˆå¹¶äº†åŒé—ªå’Œå€’è½¦ç¯)
    â†“
T3: Mock å†æ¬¡ç›‘å¬åˆ° ACTUATOR_TARGET äº‹ä»¶
    â†’ Mock è¯»å– target_value: [16, 1, 125, 17, 1, 125]
    â†’ Mock å†™å…¥ current_value: [16, 1, 125, 17, 1, 125]  âŒ è¦†ç›–äº†ä¹‹å‰çš„ [15, 1, 125]
    â†“
T4: SOME-IP Feeder è¯»å– current_value
    â†’ åªçœ‹åˆ°: [16, 1, 125, 17, 1, 125]
    â†’ åŒé—ª (15) ä¸¢å¤±ï¼
```

**å…³é”®é—®é¢˜ï¼šMock çš„æ¯æ¬¡å†™å…¥éƒ½æ˜¯å®Œå…¨è¦†ç›–ï¼Œä¸æ˜¯å¢é‡æ›´æ–°**

#### **3. ä¸ºä»€ä¹ˆä¼šç ´åå¤šå®¢æˆ·ç«¯åè°ƒ**

```
DataBroker çš„å¤šå®¢æˆ·ç«¯åè°ƒæœºåˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client A    â”‚ å†™å…¥ [15, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataBroker     â”‚ å­˜å‚¨: [15, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client B    â”‚ å†™å…¥ [16, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataBroker     â”‚ åˆå¹¶: [15, 1, 125, 16, 1, 125] âœ…
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½†æ˜¯ Mock æ‹¦æˆªåï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client A    â”‚ å†™å…¥ [15, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataBroker     â”‚ target: [15, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mock        â”‚ æ‹¦æˆªï¼Œå†™å› current: [15, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client B    â”‚ å†™å…¥ [16, 1, 125]
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataBroker     â”‚ target: [15, 1, 125, 16, 1, 125] (åˆå¹¶æ­£å¸¸)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mock        â”‚ æ‹¦æˆªï¼Œè¦†ç›–å†™å› current: [16, 1, 125] âŒ ä¸¢å¤± 15
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### **ä¿®æ”¹å†…å®¹ï¼šä»…ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œæ³¨é‡Šä¸€è¡Œä»£ç **

**æ–‡ä»¶ï¼š** `vehicle-mock/app/mock.py`

**ä¿®æ”¹å‰ï¼š**
```python
listOfSignals = [
    {"signal": "Vehicle.Body.Lights.ExteriorLightControl", "value": [1, 2, 3]},  # âŒ é—®é¢˜è¡Œ
    {"signal": "Vehicle.Chassis.Accelerator.PedalPositionControl", "value": [1, 2]},
    {"signal": "Vehicle.Chassis.Brake.PedalPositionControl", "value": [1, 2]},
    {"signal": "Vehicle.Chassis.SteeringWheel.AngleControl", "value": [1, 2]},
    {"signal": "Vehicle.Powertrain.StartStop.StartControl", "value": [1, 2]},
]
```

**ä¿®æ”¹åï¼š**
```python
listOfSignals = [
    #{"signal": "Vehicle.Body.Lights.ExteriorLightControl", "value": [1, 2, 3]},  # âœ… å·²æ³¨é‡Š
    {"signal": "Vehicle.Chassis.Accelerator.PedalPositionControl", "value": [1, 2]},
    {"signal": "Vehicle.Chassis.Brake.PedalPositionControl", "value": [1, 2]},
    {"signal": "Vehicle.Chassis.SteeringWheel.AngleControl", "value": [1, 2]},
    {"signal": "Vehicle.Powertrain.StartStop.StartControl", "value": [1, 2]},
]
```

**ä¿®å¤æ•ˆæœï¼š**
- âœ… Mock ä¸å†ç›‘å¬ `ExteriorLightControl` çš„ ACTUATOR_TARGET äº‹ä»¶
- âœ… Mock ä¸å†æ‹¦æˆªç¯å…‰ä¿¡å·
- âœ… DataBroker çš„å¤šå®¢æˆ·ç«¯åè°ƒæœºåˆ¶æ­£å¸¸å·¥ä½œ
- âœ… SOME-IP Feeder å¯ä»¥æ­£ç¡®è¯»å–å®Œæ•´çš„ç¯å…‰çŠ¶æ€

### **ä¿®å¤åçš„æ•°æ®æµ**

```
T0: AWS Frontend å†™å…¥åŒé—ª
    â†’ DataBroker.target_value = [15, 1, 125]
    â†’ Mock ä¸æ‹¦æˆª (å·²ç§»é™¤é…ç½®) âœ…
    â†“
T1: Python Applet å†™å…¥å€’è½¦ç¯
    â†’ DataBroker.target_value = [15, 1, 125, 16, 1, 125, 17, 1, 125]
    â†’ DataBroker è‡ªåŠ¨åˆå¹¶ âœ…
    â†’ Mock ä¸æ‹¦æˆª âœ…
    â†“
T2: SOME-IP Feeder è¯»å– target_value
    â†’ è¯»åˆ°å®Œæ•´æ•°ç»„: [15, 1, 125, 16, 1, 125, 17, 1, 125]
    â†’ è§£æ: åŒé—ª (15) + å·¦å€’è½¦ç¯ (16) + å³å€’è½¦ç¯ (17)
    â†’ è½¬æ¢ä¸º SOME/IP æ ¼å¼
    â†’ å‘é€åˆ°ç¡¬ä»¶ âœ…
    â†“
T3: ç¡¬ä»¶æ‰§è¡Œ
    â†’ åŒé—ªé—ªçƒ âœ…
    â†’ å€’è½¦ç¯ç‚¹äº® âœ…
    â†’ æ‰€æœ‰ç¯åŒæ—¶å·¥ä½œ âœ…
```

---

## ğŸ”¬ åŸç†è§£é‡Š

### **0. DataBroker çš„ target_value å’Œ current_value è®¾è®¡åŸç†**

#### **ä¸ºä»€ä¹ˆéœ€è¦ target_value å’Œ current_valueï¼Ÿ**

**VSS (Vehicle Signal Specification) çš„æ‰§è¡Œå™¨ä¿¡å·æ¨¡å‹ï¼š**

```
æ‰§è¡Œå™¨ä¿¡å·çš„åŒå€¼æ¨¡å‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  target_value (ç›®æ ‡å€¼)                              â”‚
â”‚  - åº”ç”¨ç¨‹åºæƒ³è¦è®¾ç½®çš„å€¼                             â”‚
â”‚  - è¡¨ç¤º"æˆ‘æƒ³è®©æ‰§è¡Œå™¨å¤„äºè¿™ä¸ªçŠ¶æ€"                   â”‚
â”‚  - å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å†™å…¥                           â”‚
â”‚  - DataBroker è´Ÿè´£åè°ƒå¤šä¸ªå®¢æˆ·ç«¯çš„å†™å…¥              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  current_value (å½“å‰å€¼)                             â”‚
â”‚  - æ‰§è¡Œå™¨çš„å®é™…çŠ¶æ€                                 â”‚
â”‚  - è¡¨ç¤º"æ‰§è¡Œå™¨ç°åœ¨å®é™…å¤„äºè¿™ä¸ªçŠ¶æ€"                 â”‚
â”‚  - é€šå¸¸ç”±ç¡¬ä»¶åé¦ˆæˆ–æ¨¡æ‹Ÿå™¨æ›´æ–°                       â”‚
â”‚  - åº”ç”¨ç¨‹åºé€šè¿‡è¯»å– current äº†è§£å®é™…çŠ¶æ€            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è®¾è®¡åŸå› ï¼šç‰©ç†ä¸–ç•Œå’Œæ•°å­—ä¸–ç•Œçš„å·®å¼‚**

```
åœºæ™¯ 1: æ²¹é—¨è¸æ¿æ§åˆ¶
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
App å†™å…¥: target_value = 70%  (æˆ‘æƒ³è®©æ²¹é—¨è¸©åˆ°70%)
          â†“
ç¡¬ä»¶æ‰§è¡Œéœ€è¦æ—¶é—´: 
          - ç”µæœºå“åº”å»¶è¿Ÿ
          - æœºæ¢°è¿åŠ¨å»¶è¿Ÿ
          - ä¼ æ„Ÿå™¨é‡‡æ ·å»¶è¿Ÿ
          â†“
ç¡¬ä»¶åé¦ˆ: current_value = 70%  (æ²¹é—¨å®é™…åˆ°è¾¾70%)

â­ target â‰  current (åœ¨è¿‡æ¸¡æœŸé—´)
âœ… åº”ç”¨å¯ä»¥çŸ¥é“å‘½ä»¤æ˜¯å¦çœŸæ­£æ‰§è¡Œ
```

```
åœºæ™¯ 2: ç¯å…‰æ§åˆ¶ï¼ˆæœ¬é¡¹ç›®çš„é—®é¢˜ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
AWS Frontend: target = [15, 1, 125]  (æ‰“å¼€åŒé—ª)
Python App:   target = [16, 1, 125]  (æ‰“å¼€å€’è½¦ç¯)
              â†“
DataBroker åˆå¹¶: target = [15, 1, 125, 16, 1, 125]
              â†“
ç¡¬ä»¶æ‰§è¡Œ: åŒé—ªå’Œå€’è½¦ç¯éƒ½äº®
              â†“
ç¡¬ä»¶åé¦ˆ: current = [15, 1, 125, 16, 1, 125]

âœ… å…è®¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶æ§åˆ¶ä¸åŒçš„ç¯
âœ… åº”ç”¨å¯ä»¥éªŒè¯å‘½ä»¤æ˜¯å¦æˆåŠŸæ‰§è¡Œ
```

#### **Velocitas SDK å¦‚ä½•ä½¿ç”¨ target_value å’Œ current_valueï¼Ÿ**

**Velocitas SDK çš„ä¿¡å·è®¿é—® APIï¼š**

```python
# applet-manager/app/examples/applet_01.py
from velocitas_sdk import Vehicle

# 1. è¯»å–æ‰§è¡Œå™¨çš„å®é™…çŠ¶æ€ (current_value)
current_throttle = await Vehicle.Chassis.Accelerator.PedalPosition.get()
print(f"å½“å‰æ²¹é—¨ä½ç½®: {current_throttle}%")

# 2. è®¾ç½®æ‰§è¡Œå™¨çš„ç›®æ ‡çŠ¶æ€ (target_value)
await Vehicle.Chassis.Accelerator.PedalPosition.set(50.0)
print("å·²å‘é€å‘½ä»¤: æ²¹é—¨è®¾ç½®ä¸º 50%")

# 3. éªŒè¯å‘½ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸ
await asyncio.sleep(0.5)  # ç­‰å¾…ç¡¬ä»¶å“åº”
new_position = await Vehicle.Chassis.Accelerator.PedalPosition.get()
if abs(new_position - 50.0) < 1.0:
    print("âœ… å‘½ä»¤æ‰§è¡ŒæˆåŠŸ")
else:
    print("âŒ å‘½ä»¤æ‰§è¡Œå¤±è´¥æˆ–ç¡¬ä»¶æ•…éšœ")
```

**Velocitas SDK çš„åº•å±‚å®ç°ï¼š**

```python
# Velocitas SDK å†…éƒ¨å®ç° (ç®€åŒ–ç‰ˆ)
class DataPointFloat:
    def __init__(self, path: str):
        self._path = path
        self._client = VehicleDataBrokerClient()
    
    async def get(self) -> float:
        """è¯»å– current_value"""
        response = await self._client.GetDatapoints([self._path])
        return response[self._path].value  # è¿”å› current_value
    
    async def set(self, value: float):
        """å†™å…¥ target_value"""
        await self._client.SetDatapoints({
            self._path: Datapoint(value=value)
        })
        # â­ Velocitas è‡ªåŠ¨å†™å…¥çš„æ˜¯ target_value
        # â­ DataBroker ä¼šå°†å…¶æ ‡è®°ä¸º ACTUATOR_TARGET ç±»å‹
```

**å…³é”®ç†è§£ï¼š**
```
1. Vehicle.XXX.get()  â†’ è¯»å– current_value (å®é™…çŠ¶æ€)
2. Vehicle.XXX.set()  â†’ å†™å…¥ target_value (æœŸæœ›çŠ¶æ€)
3. DataBroker ç»´æŠ¤è¿™ä¸¤ä¸ªå€¼ï¼Œå¹¶è§¦å‘ ACTUATOR_TARGET äº‹ä»¶
4. Mock æˆ–ç¡¬ä»¶ç›‘å¬ ACTUATOR_TARGETï¼ŒåŒæ­¥ target â†’ current
```

#### **ä¸ºä»€ä¹ˆéœ€è¦ vehicle-mockï¼Ÿ**

**é—®é¢˜ï¼šå¼€å‘ç¯å¢ƒæ²¡æœ‰çœŸå®ç¡¬ä»¶**

```
ç”Ÿäº§ç¯å¢ƒï¼ˆæœ‰çœŸå®ç¡¬ä»¶ï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
App â†’ DataBroker.target = 50%
                â†“
      someip-feeders ç›‘å¬ target
                â†“
           CAN Bus â†’ ECU
                â†“
        çœŸå®æ²¹é—¨è¸æ¿ç§»åŠ¨åˆ° 50%
                â†“
        ä¼ æ„Ÿå™¨åé¦ˆ â†’ CAN Bus
                â†“
      someip-feeders è¯»å–åé¦ˆ
                â†“
      DataBroker.current = 50%  âœ… çœŸå®ç¡¬ä»¶åé¦ˆ

å¼€å‘ç¯å¢ƒï¼ˆæ²¡æœ‰çœŸå®ç¡¬ä»¶ï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
App â†’ DataBroker.target = 50%
                â†“
      someip-feeders ç›‘å¬ target
                â†“
           âŒ æ²¡æœ‰ç¡¬ä»¶ï¼Œæ— æ³•æ‰§è¡Œ
                â†“
           âŒ æ²¡æœ‰ä¼ æ„Ÿå™¨åé¦ˆ
                â†“
      DataBroker.current = ???  âŒ æ°¸è¿œæ²¡æœ‰åé¦ˆ

è§£å†³æ–¹æ¡ˆï¼švehicle-mock
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
App â†’ DataBroker.target = 50%
                â†“
      vehicle-mock ç›‘å¬ ACTUATOR_TARGET äº‹ä»¶
                â†“
      vehicle-mock å‡è®¾"ç¡¬ä»¶ç«‹å³å“åº”"
                â†“
      vehicle-mock å†™å›: current = target
                â†“
      DataBroker.current = 50%  âœ… æ¨¡æ‹Ÿç¡¬ä»¶åé¦ˆ
```

**Mock çš„è®¾è®¡åˆè¡·æ˜¯æ­£ç¡®çš„ï¼š**
- âœ… æ¨¡æ‹Ÿç¡¬ä»¶ç«‹å³å“åº”
- âœ… è®©å¼€å‘è€…å¯ä»¥åœ¨æ²¡æœ‰ç¡¬ä»¶çš„æƒ…å†µä¸‹æµ‹è¯•
- âœ… current_value åŠæ—¶æ›´æ–°ï¼Œåº”ç”¨å¯ä»¥éªŒè¯å‘½ä»¤

**ä½†æ˜¯ Mock å¯¹ç¯å…‰ä¿¡å·çš„å¤„ç†æœ‰é—®é¢˜ï¼š**
- âŒ ç¯å…‰æ˜¯å¤šå®¢æˆ·ç«¯åœºæ™¯
- âŒ Mock çš„è¦†ç›–å†™å…¥ç ´åäº† DataBroker çš„å¤šå®¢æˆ·ç«¯åè°ƒ
- âœ… è§£å†³æ–¹æ¡ˆï¼šæŠŠç¯å…‰ä¿¡å·ä» Mock é…ç½®ä¸­ç§»é™¤

#### **ç”Ÿäº§ç¯å¢ƒä¸­æœ‰æ²¡æœ‰ target_value å’Œ current_valueï¼Ÿ**

**ç­”æ¡ˆï¼šæœ‰ï¼è¿™æ˜¯ VSS æ ‡å‡†çš„ä¸€éƒ¨åˆ†**

**DataBroker çš„æ•°æ®ç»“æ„ï¼š**

```rust
// DataBroker å†…éƒ¨æ•°æ®ç»“æ„ (Rust ä»£ç )
pub struct Datapoint {
    pub path: String,
    pub value: DataValue,
    pub timestamp: SystemTime,
}

pub struct ActuatorTarget {
    pub path: String,
    pub target_value: DataValue,    // â­ å­˜åœ¨
    pub current_value: DataValue,   // â­ å­˜åœ¨
}
```

**å®é™…è¿è¡Œæ—¶çš„çŠ¶æ€ï¼š**

```
æŸ¥è¯¢ DataBroker çš„ç¯å…‰ä¿¡å·çŠ¶æ€ï¼š

$ grpcurl -plaintext 127.0.0.1:55555 \
  sdv.databroker.v1.Broker/GetDatapoints \
  -d '{"datapoints": ["Vehicle.Body.Lights.ExteriorLightControl"]}'

Response:
{
  "datapoints": {
    "Vehicle.Body.Lights.ExteriorLightControl": {
      "target_value": {      â­ å­˜åœ¨
        "array": [15, 1, 125, 16, 1, 125]
      },
      "current_value": {     â­ å­˜åœ¨
        "array": [15, 1, 125, 16, 1, 125]
      },
      "timestamp": "2026-01-27T10:30:00Z"
    }
  }
}
```

**ç”Ÿäº§ç¯å¢ƒçš„å®Œæ•´æ•°æ®æµï¼š**

```
1. Python App è°ƒç”¨ Vehicle.Body.Lights.ExteriorLightControl.set([16,1,125])
   â†“
2. Velocitas SDK â†’ gRPC â†’ DataBroker.SetDatapoints
   â†“
3. DataBroker æ›´æ–° target_value = [16,1,125]
   â†“
4. DataBroker è§¦å‘ ACTUATOR_TARGET äº‹ä»¶
   â†“
5. someip-feeders ç›‘å¬åˆ°äº‹ä»¶
   â†“
6. someip-feeders è¯»å– target_value
   â†“
7. someip-feeders è§£ææ•°ç»„: [lightId=16, state=1, brightness=125]
   â†“
8. someip-feeders è½¬æ¢ä¸º SOME/IP æ ¼å¼
   â†“
9. someip-feeders é€šè¿‡ CAN Bus å‘é€åˆ° ECU
   â†“
10. ç¡¬ä»¶æ‰§è¡Œï¼šå€’è½¦ç¯ç‚¹äº®
   â†“
11. ECU é€šè¿‡ CAN Bus åé¦ˆçŠ¶æ€
   â†“
12. someip-feeders è¯»å–åé¦ˆ
   â†“
13. someip-feeders æ›´æ–° DataBroker.current_value = [16,1,125]
   â†“
14. Python App å¯ä»¥é€šè¿‡ get() éªŒè¯å‘½ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸ
```

**æ€»ç»“ï¼š**
```
âœ… target_value å’Œ current_value æ˜¯ VSS æ ‡å‡†çš„æ ¸å¿ƒè®¾è®¡
âœ… Velocitas SDK çš„ set() å†™å…¥ target_value
âœ… Velocitas SDK çš„ get() è¯»å– current_value
âœ… ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒéƒ½ä½¿ç”¨è¿™ä¸ªæ¨¡å‹
âœ… vehicle-mock åªæ˜¯å¼€å‘å·¥å…·ï¼Œç”¨äºæ¨¡æ‹Ÿç¡¬ä»¶åé¦ˆ
âœ… ç¯å…‰ä¿¡å·åº”è¯¥ä» Mock ä¸­ç§»é™¤ï¼Œè®© DataBroker è‡ªç„¶åè°ƒ
```

---

### **âš ï¸ å…³é”®é—®é¢˜ï¼šä¸ºä»€ä¹ˆ Velocitas å®˜æ–¹æ²¡æœ‰æä¾› Mock åŒ…ï¼Ÿ**

#### **çŸ›ç›¾ç‚¹åˆ†æ**

æ‚¨æå‡ºäº†ä¸€ä¸ªéå¸¸å°–é”çš„é—®é¢˜ï¼š

```
çŸ›ç›¾ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. VSS æ ‡å‡†å®šä¹‰äº† target_value å’Œ current_value
2. Velocitas SDK ç¡®å®ä½¿ç”¨äº†è¿™ä¸ªæ¨¡å‹
3. å¼€å‘ç¯å¢ƒéœ€è¦ Mock æ¥åŒæ­¥ target â†’ current
4. ä½†æ˜¯ Velocitas å®˜æ–¹ä»“åº“æ²¡æœ‰æä¾› Mock æœåŠ¡åŒ… â“
5. CCU é¡¹ç›®è‡ªå·±å®ç°äº† vehicle-mock â“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### **Velocitas å®˜æ–¹çš„å®é™…è§£å†³æ–¹æ¡ˆ**

è®©æˆ‘ä»¬çœ‹çœ‹ Velocitas å®˜æ–¹æ˜¯å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜çš„ï¼š

**1. Velocitas å®˜æ–¹æ¨¡æ¿é¡¹ç›®ç»“æ„ï¼š**

```
velocitas-python-template/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main.py          # Vehicle App ä»£ç 
â”œâ”€â”€ .devcontainer/
â”‚   â””â”€â”€ devcontainer.json    # å¼€å‘å®¹å™¨é…ç½®
â””â”€â”€ .velocitas/
    â””â”€â”€ config.yaml          # Velocitas é…ç½®

â­ å…³é”®å‘ç°ï¼šå®˜æ–¹æ¨¡æ¿æ²¡æœ‰ vehicle-mock æœåŠ¡ï¼
```

**2. Velocitas å®˜æ–¹çš„å¼€å‘ç¯å¢ƒé…ç½®ï¼š**

```yaml
# velocitas-python-template/.velocitas/config.yaml
packages:
  - name: devenv-github-workflows
  - name: devenv-github-templates
  - name: devenv-devcontainer-setup
  - name: grpc-interface-support

# âŒ æ²¡æœ‰ vehicle-mock æˆ–ç±»ä¼¼çš„ Mock åŒ…
```

**3. å®˜æ–¹ç¤ºä¾‹ä»£ç å¦‚ä½•æµ‹è¯•ï¼Ÿ**

```python
# velocitas-python-template/app/src/main.py (å®˜æ–¹ç¤ºä¾‹)
from velocitas_sdk import Vehicle

class VehicleApp:
    def __init__(self):
        self.Vehicle = Vehicle()
    
    async def on_seat_position_changed(self, data):
        # åªè¯»å–ä¼ æ„Ÿå™¨æ•°æ®
        position = await self.Vehicle.Cabin.Seat.Row1.Pos1.Position.get()
        print(f"Seat position: {position}")
    
    # âš ï¸ å®˜æ–¹ç¤ºä¾‹ä¸»è¦æ˜¯è¯»å–ä¼ æ„Ÿå™¨ï¼Œå¾ˆå°‘å†™å…¥æ‰§è¡Œå™¨
```

**å…³é”®å‘ç°ï¼šVelocitas å®˜æ–¹ç¤ºä¾‹ä¸»è¦ç”¨äºè¯»å–ä¼ æ„Ÿå™¨æ•°æ®ï¼**

#### **ä¸ºä»€ä¹ˆå®˜æ–¹ä¸éœ€è¦ Mockï¼Ÿ**

**å®˜æ–¹çš„è®¾è®¡å“²å­¦ï¼š**

```
Velocitas å®˜æ–¹ç¤ºä¾‹çš„å…¸å‹åœºæ™¯ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åœºæ™¯ 1: è¯»å–ä¼ æ„Ÿå™¨æ•°æ®
  App è¯»å–: Vehicle.Speed.get()
  æ•°æ®æ¥æº: KUKSA DataBroker (ä¼ æ„Ÿå™¨ä¿¡å·)
  âœ… ä¸éœ€è¦ Mock (ä¼ æ„Ÿå™¨ä¿¡å·å¯ä»¥æ‰‹åŠ¨è®¾ç½®æµ‹è¯•æ•°æ®)

åœºæ™¯ 2: è®¢é˜…ä¿¡å·å˜åŒ–
  App è®¢é˜…: Vehicle.Cabin.Seat.Position
  æ•°æ®å˜åŒ–: é€šè¿‡ DataBroker æ¨¡æ‹Ÿ
  âœ… ä¸éœ€è¦ Mock (æµ‹è¯•æ—¶æ‰‹åŠ¨è§¦å‘å˜åŒ–)

åœºæ™¯ 3: ç®€å•çš„æ‰§è¡Œå™¨æ§åˆ¶ (å®˜æ–¹å¾ˆå°‘æ¶‰åŠ)
  App å†™å…¥: Vehicle.Cabin.Seat.Position.set(50)
  âŒ å®˜æ–¹ç¤ºä¾‹é€šå¸¸ä¸éªŒè¯æ‰§è¡Œæ˜¯å¦æˆåŠŸ
  âŒ ä¸è¯»å– current_value æ¥ç¡®è®¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**å®˜æ–¹æµ‹è¯•æ–¹å¼ï¼š**

```python
# Velocitas å®˜æ–¹çš„æµ‹è¯•æ–¹æ³•ï¼ˆä¸éœ€è¦ Mockï¼‰

# æ–¹æ³• 1: ä½¿ç”¨ Mock åº“ (Python unittest.mock)
from unittest.mock import AsyncMock

async def test_vehicle_app():
    app = VehicleApp()
    app.Vehicle.Speed.get = AsyncMock(return_value=50.0)
    
    speed = await app.Vehicle.Speed.get()
    assert speed == 50.0  # âœ… å•å…ƒæµ‹è¯•é€šè¿‡

# æ–¹æ³• 2: ç›´æ¥æ“ä½œ DataBroker (é›†æˆæµ‹è¯•)
import grpc
from sdv.databroker.v1 import broker_pb2

async def test_with_databroker():
    # ç›´æ¥å‘ DataBroker å†™å…¥æµ‹è¯•æ•°æ®
    channel = grpc.aio.insecure_channel('127.0.0.1:55555')
    stub = broker_pb2_grpc.BrokerStub(channel)
    
    # è®¾ç½®ä¼ æ„Ÿå™¨æ•°æ®
    await stub.SetDatapoints({
        "Vehicle.Speed": Datapoint(value=50.0)
    })
    
    # App è¯»å–æ•°æ®
    speed = await app.Vehicle.Speed.get()
    assert speed == 50.0  # âœ… é›†æˆæµ‹è¯•é€šè¿‡
```

#### **CCU é¡¹ç›®ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç° Mockï¼Ÿ**

**CCU é¡¹ç›®çš„ç‰¹æ®Šéœ€æ±‚ï¼š**

```
CCU çš„å®é™…åœºæ™¯ vs å®˜æ–¹ç¤ºä¾‹ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å®˜æ–¹ç¤ºä¾‹åœºæ™¯ï¼š
  - ä¸»è¦è¯»å–ä¼ æ„Ÿå™¨æ•°æ® (è½¦é€Ÿã€æ¸©åº¦ã€åº§æ¤…ä½ç½®ç­‰)
  - å¶å°”æ§åˆ¶ç®€å•æ‰§è¡Œå™¨
  - å¼€å‘ç¯å¢ƒ: ç¬”è®°æœ¬ç”µè„‘ï¼Œæ— ç¡¬ä»¶
  - æµ‹è¯•: å•å…ƒæµ‹è¯• + æ‰‹åŠ¨è®¾ç½® DataBroker æ•°æ®

CCU é¡¹ç›®åœºæ™¯ï¼š
  - â­ å¤§é‡æ‰§è¡Œå™¨æ§åˆ¶ (ç¯å…‰ã€æ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘)
  - â­ éœ€è¦éªŒè¯å‘½ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸ
  - â­ å¼€å‘ç¯å¢ƒ: è½¦è½½ç”µè„‘ï¼Œå¯èƒ½æœ‰/æ— ç¡¬ä»¶
  - â­ éœ€è¦å®æ—¶åé¦ˆ: current_value å¿…é¡»æ›´æ–°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**CCU é¡¹ç›®çš„å®é™…éœ€æ±‚ï¼š**

```python
# CCU é¡¹ç›®çš„å…¸å‹ä»£ç 
async def control_reverse_lights():
    # 1. å†™å…¥å‘½ä»¤
    await Vehicle.Body.Lights.ExteriorLightControl.set([16, 1, 125])
    
    # 2. â­ å¿…é¡»éªŒè¯å‘½ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸ
    await asyncio.sleep(0.1)
    current = await Vehicle.Body.Lights.ExteriorLightControl.get()
    
    if [16, 1, 125] in current:
        print("âœ… å€’è½¦ç¯æ‰“å¼€æˆåŠŸ")
        # ç»§ç»­åç»­é€»è¾‘
    else:
        print("âŒ å€’è½¦ç¯æ‰“å¼€å¤±è´¥")
        # é”™è¯¯å¤„ç†
    
    # 3. â­ å¯èƒ½æ²¡æœ‰çœŸå®ç¡¬ä»¶
    #    å¦‚æœæ²¡æœ‰ Mockï¼Œcurrent_value æ°¸è¿œä¸ä¼šæ›´æ–°
    #    å¯¼è‡´æ‰€æœ‰éªŒè¯éƒ½å¤±è´¥
```

**ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç° Mockï¼š**

```
åŸå› åˆ†æï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Velocitas å®˜æ–¹èšç„¦äºæ¡†æ¶å’Œ SDK
   â†’ ä¸æä¾›ç‰¹å®šåœºæ™¯çš„å·¥å…·

2. Mock çš„éœ€æ±‚å› é¡¹ç›®è€Œå¼‚
   â†’ CCU: éœ€è¦æ‰§è¡Œå™¨åé¦ˆæ¨¡æ‹Ÿ
   â†’ å…¶ä»–é¡¹ç›®: å¯èƒ½åªéœ€è¦ä¼ æ„Ÿå™¨æ•°æ®æ¨¡æ‹Ÿ

3. å®˜æ–¹æ¨èå¼€å‘è€…è‡ªå·±å®ç°
   â†’ vehicle-mock å°±æ˜¯ CCU å›¢é˜Ÿçš„å®ç°
   â†’ å…¶ä»–å›¢é˜Ÿå¯èƒ½æœ‰ä¸åŒçš„ Mock ç­–ç•¥

4. Mock çš„å®ç°å–å†³äºç¡¬ä»¶æ¶æ„
   â†’ CCU: SOME/IP + CAN Bus
   â†’ å…¶ä»–é¡¹ç›®: MQTT, HTTP, WebSocket ç­‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### **å…¶ä»–é¡¹ç›®å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ**

**æ–¹æ¡ˆ 1: ç›´æ¥ä½¿ç”¨ KUKSA Mock Serviceï¼ˆå·²å¼ƒç”¨ï¼‰**

```yaml
# æ—§ç‰ˆæœ¬çš„ KUKSA é¡¹ç›®æ›¾ç»æä¾›è¿‡ Mock Service
# ä½†åœ¨æ–°ç‰ˆæœ¬ä¸­å·²ç»ç§»é™¤ï¼Œæ¨èå¼€å‘è€…è‡ªå·±å®ç°

# kuksa.val (æ—§ç‰ˆæœ¬)
services:
  databroker:
    image: kuksa.val/databroker
  
  mock-service:  # âŒ æ–°ç‰ˆæœ¬å·²ç§»é™¤
    image: kuksa.val/mock-service
```

**æ–¹æ¡ˆ 2: ä½¿ç”¨ KUKSA CSV Providerï¼ˆå®˜æ–¹æ¨èï¼‰**

```yaml
# å®˜æ–¹æ¨èç”¨ CSV Provider æä¾›é™æ€æµ‹è¯•æ•°æ®
services:
  databroker:
    image: kuksa.val/databroker
  
  csv-provider:
    image: kuksa.val/csv-provider
    volumes:
      - ./test-data.csv:/data/test-data.csv
    command: --file /data/test-data.csv

# test-data.csv
# signal,value
# Vehicle.Speed,50.0
# Vehicle.Cabin.Seat.Row1.Pos1.Position,30
```

**æ–¹æ¡ˆ 3: å®ç°è‡ªå®šä¹‰ Mockï¼ˆCCU çš„é€‰æ‹©ï¼‰**

```python
# CCU å›¢é˜Ÿçš„ vehicle-mock å®ç°
# ä¼˜åŠ¿:
#   âœ… æ ¹æ®é¡¹ç›®éœ€æ±‚å®šåˆ¶
#   âœ… æ”¯æŒç‰¹å®šçš„ä¿¡å·ç±»å‹
#   âœ… å¯ä»¥æ¨¡æ‹Ÿå¤æ‚çš„ç¡¬ä»¶è¡Œä¸º
# åŠ£åŠ¿:
#   âŒ éœ€è¦è‡ªå·±ç»´æŠ¤
#   âŒ å¯èƒ½å¼•å…¥ Bug (å°±åƒç¯å…‰å†²çªé—®é¢˜)
```

**æ–¹æ¡ˆ 4: æ··åˆç¡¬ä»¶æµ‹è¯•ç¯å¢ƒ**

```
ç”Ÿäº§çº§å¼€å‘ç¯å¢ƒï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CCU (è½¦è½½ç”µè„‘)                          â”‚
â”‚                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚ DataBrokerâ”‚  â”‚ SOME/IP Feederâ”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚      â”‚               â”‚                â”‚
â”‚      â”‚         çœŸå® CAN Bus âœ…         â”‚
â”‚      â”‚               â”‚                â”‚
â”‚      â”‚         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚      â”‚         â”‚ éƒ¨åˆ† ECU    â”‚         â”‚
â”‚      â”‚         â”‚ (ç¯å…‰ã€åº§æ¤…)â”‚         â”‚
â”‚      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚      â”‚                                â”‚
â”‚      â”‚         Mock æ¨¡æ‹Ÿ âœ…           â”‚
â”‚      â”‚         (æ²¹é—¨ã€åˆ¹è½¦)           â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€vehicle-mock           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â­ æ··åˆæ–¹æ¡ˆï¼šéƒ¨åˆ†ç¡¬ä»¶ + éƒ¨åˆ† Mock
```

#### **æ€»ç»“ï¼šä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç° Mock**

```
ç­”æ¡ˆæ€»ç»“ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Velocitas å®˜æ–¹å®šä½ï¼š
   âœ… æä¾› SDK å’Œå¼€å‘æ¡†æ¶
   âŒ ä¸æä¾›ç‰¹å®šåœºæ™¯çš„å·¥å…·é“¾

2. å®˜æ–¹ç¤ºä¾‹ç‰¹ç‚¹ï¼š
   âœ… ä¸»è¦æ¼”ç¤ºä¼ æ„Ÿå™¨æ•°æ®è¯»å–
   âœ… ä½¿ç”¨å•å…ƒæµ‹è¯• Mock (unittest.mock)
   âŒ å¾ˆå°‘æ¶‰åŠå¤æ‚çš„æ‰§è¡Œå™¨æ§åˆ¶

3. CCU é¡¹ç›®çš„ç‰¹æ®Šæ€§ï¼š
   â­ é‡åº¦æ‰§è¡Œå™¨æ§åˆ¶åœºæ™¯
   â­ éœ€è¦å®æ—¶éªŒè¯å‘½ä»¤æ‰§è¡Œ
   â­ å¼€å‘ç¯å¢ƒå¯èƒ½æ— å®Œæ•´ç¡¬ä»¶
   â†’ å¿…é¡»è‡ªå·±å®ç° vehicle-mock

4. Mock çš„å®ç°å› é¡¹ç›®è€Œå¼‚ï¼š
   - CCU: vehicle-mock (ç›‘å¬ ACTUATOR_TARGET)
   - å…¶ä»–é¡¹ç›®: CSV Provider, ç¡¬ä»¶æ¨¡æ‹Ÿå™¨, æ··åˆç¯å¢ƒ

5. å®˜æ–¹æ€åº¦ï¼š
   âœ… é¼“åŠ±å¼€å‘è€…æ ¹æ®éœ€æ±‚å®šåˆ¶
   âœ… VSS æ ‡å‡†ä¿è¯å…¼å®¹æ€§
   âŒ ä¸å¼ºåˆ¶ç‰¹å®šçš„ Mock å®ç°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**CCU vehicle-mock çš„è¯„ä»·ï¼š**

```
ä¼˜ç‚¹ï¼š
âœ… å®Œç¾é€‚é… CCU çš„æ‰§è¡Œå™¨æ§åˆ¶åœºæ™¯
âœ… æ”¯æŒ ACTUATOR_TARGET äº‹ä»¶ç›‘å¬
âœ… å¯é…ç½®çš„ä¿¡å·åˆ—è¡¨
âœ… å¼€å‘ç¯å¢ƒå¯ä»¥å®Œå…¨è„±ç¦»ç¡¬ä»¶æµ‹è¯•

ç¼ºç‚¹ï¼š
âŒ å¯¹å¤šå®¢æˆ·ç«¯åœºæ™¯è€ƒè™‘ä¸è¶³ï¼ˆç¯å…‰å†²çªé—®é¢˜ï¼‰
âŒ éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ä¿¡å·é…ç½®åˆ—è¡¨
âŒ ç¼ºå°‘å®˜æ–¹æ”¯æŒå’Œæ–‡æ¡£

ä¿®å¤åçš„çŠ¶æ€ï¼š
âœ… ç§»é™¤ç¯å…‰ä¿¡å·é…ç½®ï¼Œè§£å†³å¤šå®¢æˆ·ç«¯å†²çª
âœ… ä¿ç•™å…¶ä»–å•å®¢æˆ·ç«¯ä¿¡å·çš„ Mock è¡Œä¸º
âœ… åœ¨å¯é¢„è§çš„æœªæ¥ï¼Œåç»­æ‰§è¡Œå™¨ï¼ˆæ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘ï¼‰ä¸ä¼šå†²çª
```

---

### **1. ä¸ºä»€ä¹ˆåªéœ€è¦æ³¨é‡Šä¸€è¡Œä»£ç ï¼Ÿ**

**Mock æ˜¯é…ç½®é©±åŠ¨çš„ï¼š**
```python
# Mock è¯»å– listOfSignals æ•°ç»„
for signal in listOfSignals:
    mock_datapoint(path=signal["signal"], ...)
    # â­ åªæœ‰åœ¨ listOfSignals ä¸­çš„ä¿¡å·æ‰ä¼šè¢« Mock ç›‘å¬
```

**æ³¨é‡Šåçš„æ•ˆæœï¼š**
- âŒ `ExteriorLightControl` ä¸åœ¨ `listOfSignals` ä¸­
- âŒ Mock ä¸ä¼šä¸ºå®ƒåˆ›å»º ACTUATOR_TARGET ç›‘å¬å™¨
- âœ… Mock å®Œå…¨ä¸å†å¹²é¢„ç¯å…‰ä¿¡å·
- âœ… å…¶ä»–ä¿¡å·ï¼ˆæ²¹é—¨ã€åˆ¹è½¦ï¼‰çš„ Mock è¡Œä¸ºä¿æŒæ­£å¸¸

### **2. ä¸ºä»€ä¹ˆä¸éœ€è¦ä¿®æ”¹ mockservice.pyï¼Ÿ**

**Mock çš„è¦†ç›–é€»è¾‘å¯¹å¤§å¤šæ•°ä¿¡å·æ˜¯æ­£ç¡®çš„ï¼š**

```python
# mockservice.py
def _set_datapoint(self, path: str, value: Any):
    self._client.set_current_values({path: Datapoint(formatted_value)})
    # â­ è¿™ä¸ª"ç›´æ¥è¦†ç›–"å¯¹å•ä¸€æ§åˆ¶æºçš„ä¿¡å·æ˜¯æ­£ç¡®çš„
```

**ä¸ºä»€ä¹ˆå¯¹å…¶ä»–ä¿¡å·æ­£ç¡®ï¼š**

| ä¿¡å·ç±»å‹ | æ§åˆ¶æº | è¦†ç›–è¡Œä¸ºæ˜¯å¦æ­£ç¡® |
|---------|-------|----------------|
| æ²¹é—¨è¸æ¿ | 1 ä¸ªï¼ˆé©¾é©¶å‘˜ï¼‰ | âœ… æ­£ç¡® |
| åˆ¹è½¦è¸æ¿ | 1 ä¸ªï¼ˆé©¾é©¶å‘˜ï¼‰ | âœ… æ­£ç¡® |
| æ–¹å‘ç›˜ | 1 ä¸ªï¼ˆé©¾é©¶å‘˜ï¼‰ | âœ… æ­£ç¡® |
| ç¯å…‰æ•°ç»„ | å¤šä¸ªï¼ˆAWS + Appsï¼‰ | âŒ é”™è¯¯ |

**ç»“è®ºï¼š**
- âœ… Mock çš„é€»è¾‘è®¾è®¡æ˜¯åˆç†çš„
- âœ… åªæ˜¯ç¯å…‰ä¿¡å·ä¸åº”è¯¥è¢« Mock æ‹¦æˆª
- âœ… ä»é…ç½®ä¸­ç§»é™¤å³å¯ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘

### **3. DataBroker çš„å¤šå®¢æˆ·ç«¯åè°ƒæœºåˆ¶**

**DataBroker å¦‚ä½•å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯å†™å…¥ï¼š**

```
åœºæ™¯ï¼šå¤šä¸ªå®¢æˆ·ç«¯å†™å…¥åŒä¸€ä¸ªæ•°ç»„ä¿¡å·

Client A â†’ SetDatapoints([15, 1, 125])
         â†“
DataBroker å­˜å‚¨: [15, 1, 125]

Client B â†’ SetDatapoints([16, 1, 125])
         â†“
DataBroker å¤„ç†:
  1. è¯»å–ç°æœ‰å€¼: [15, 1, 125]
  2. æ£€æŸ¥æ–°å€¼: [16, 1, 125]
  3. åˆå¹¶é€»è¾‘: è¿½åŠ ä¸é‡å¤çš„å…ƒç´ 
  4. å­˜å‚¨ç»“æœ: [15, 1, 125, 16, 1, 125]

âœ… DataBroker è‡ªåŠ¨å¤„ç†å¤šå®¢æˆ·ç«¯åè°ƒ
```

**Mock ç ´åäº†è¿™ä¸ªæœºåˆ¶ï¼š**
```
Client A â†’ DataBroker: [15, 1, 125]
         â†“
Mock æ‹¦æˆª â†’ å†™å›: [15, 1, 125]

Client B â†’ DataBroker: [15, 1, 125, 16, 1, 125] (DataBroker åˆå¹¶æˆåŠŸ)
         â†“
Mock å†æ¬¡æ‹¦æˆª â†’ è¦†ç›–å†™å›: [16, 1, 125]  âŒ ç ´åäº†åˆå¹¶ç»“æœ
```

### **4. SOME-IP Feeder çš„ä¿¡å·è½¬æ¢**

**SOME-IP Feeder åŒ…å«å®Œæ•´çš„ä¿¡å·è½¬æ¢é€»è¾‘ï¼š**

```cpp
// someip-feeders ç›‘å¬ DataBroker
void SomeipFeederAdapter::on_actuator_change(ActuatorValues target_values) {
    // 1. è®¢é˜… ExteriorLightControl çš„ target_value
    auto light_control = target_values["Vehicle.Body.Lights.ExteriorLightControl"];
    
    // 2. è§£ææ•°ç»„æ ¼å¼
    for (int i = 0; i < array.size(); i += 3) {
        int lightId = array[i];      // ç¯å…‰ ID
        int state = array[i+1];      // çŠ¶æ€ (0=å…³, 1=å¼€)
        int brightness = array[i+2]; // äº®åº¦
        
        // 3. è½¬æ¢ä¸º SOME/IP æ ¼å¼
        vsomeip::byte_t payload[3] = {lightId, state, brightness};
        
        // 4. å‘é€åˆ° CAN Bus
        someip_client_->SendRequest(serviceID, instanceID, methodID, payload);
    }
}
```

**å…³é”®ç†è§£ï¼š**
- âœ… SOME-IP Feeder è´Ÿè´£ä¿¡å·è½¬æ¢
- âœ… SOME-IP Feeder ç›´æ¥ä¸ç¡¬ä»¶é€šä¿¡
- âŒ ä¸éœ€è¦ simulator å‚ä¸è¿è¡Œæ—¶æµç¨‹

---

## ğŸš€ åç»­æ‰©å±•åˆ†æï¼šæ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘æ§åˆ¶

### **é—®é¢˜ï¼šåç»­å®ç°æ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘æ§åˆ¶æ—¶ï¼Œä¼šä¸ä¼šä¹Ÿå‡ºç°å†²çªï¼Ÿ**

**ç­”æ¡ˆï¼šä¸ä¼šï¼** âœ…

### **åŸå› åˆ†æ**

#### **1. å•ä¸€æ§åˆ¶æº vs å¤šä¸ªæ§åˆ¶æº**

```
ç¯å…‰ä¿¡å·çš„ç‰¹æ®Šæ€§ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AWS Frontend    â”‚ â†’ æ§åˆ¶åŒé—ªã€è½¬å‘ç¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Applet 1        â”‚ â†’ æ§åˆ¶å€’è½¦ç¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Applet 2        â”‚ â†’ æ§åˆ¶åˆ¹è½¦ç¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“ å¤šä¸ªæ§åˆ¶æºåŒæ—¶å†™å…¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ExteriorLightControl (æ•°ç»„ä¿¡å·)     â”‚
â”‚ [15,1,125, 16,1,125, 35,1,126]     â”‚
â”‚  åŒé—ª    å€’è½¦ç¯    åˆ¹è½¦ç¯           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â­ éœ€è¦å¤šå®¢æˆ·ç«¯åè°ƒ

å…¶ä»–æ‰§è¡Œå™¨ä¿¡å·ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Applet 1        â”‚ â†’ å”¯ä¸€æ§åˆ¶æ²¹é—¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“ å•ä¸€æ§åˆ¶æº
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Accelerator.PedalPosition (æµ®ç‚¹æ•°)  â”‚
â”‚ 50.5                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âœ… ä¸éœ€è¦å¤šå®¢æˆ·ç«¯åè°ƒ
```

#### **2. Mock çš„è¦†ç›–è¡Œä¸ºå¯¹å•ä¸€æ§åˆ¶æºæ˜¯æ­£ç¡®çš„**

**åœºæ™¯ï¼šæ²¹é—¨æ§åˆ¶ Applet**

```python
# Applet ä»£ç 
await Vehicle.Chassis.Accelerator.PedalPosition.set(50.0)
```

**æ•°æ®æµï¼š**
```
T0: Applet å†™å…¥æ²¹é—¨ 50%
    â†’ DataBroker.target_value = 50.0
    â†“
T1: Mock ç›‘å¬åˆ° ACTUATOR_TARGET äº‹ä»¶
    â†’ Mock è¯»å– target_value: 50.0
    â†’ Mock å†™å…¥ current_value: 50.0  âœ… æ­£ç¡®ï¼ˆæ¨¡æ‹Ÿç¡¬ä»¶åé¦ˆï¼‰
    â†“
T2: Applet æ›´æ–°æ²¹é—¨ 70%
    â†’ DataBroker.target_value = 70.0
    â†“
T3: Mock å†æ¬¡ç›‘å¬
    â†’ Mock è¯»å– target_value: 70.0
    â†’ Mock è¦†ç›–å†™å…¥ current_value: 70.0  âœ… æ­£ç¡®ï¼ˆæ–°å€¼æ›¿æ¢æ—§å€¼ï¼‰
    â†“
T4: SOME-IP Feeder è¯»å–
    â†’ è¯»åˆ° current_value: 70.0
    â†’ å‘é€åˆ°ç¡¬ä»¶ âœ…
```

**ä¸ºä»€ä¹ˆè¦†ç›–æ˜¯æ­£ç¡®çš„ï¼š**
- âœ… æ²¹é—¨åªæœ‰ä¸€ä¸ªæ§åˆ¶æºï¼ˆä¸€ä¸ª Appletï¼‰
- âœ… æ–°å€¼åº”è¯¥æ›¿æ¢æ—§å€¼ï¼ˆæ²¹é—¨ä» 50% æ›´æ–°åˆ° 70%ï¼‰
- âœ… Mock çš„è¦†ç›–è¡Œä¸ºç¬¦åˆé¢„æœŸ

#### **3. åç»­å®ç°çš„ä¿¡å·ç±»å‹åˆ†æ**

| ä¿¡å·ç±»å‹ | æ•°æ®ç±»å‹ | æ§åˆ¶æºæ•°é‡ | Mock è¦†ç›–è¡Œä¸º | æ˜¯å¦å†²çª |
|---------|---------|-----------|--------------|---------|
| æ²¹é—¨è¸æ¿ä½ç½® | æµ®ç‚¹æ•° | 1 ä¸ª | âœ… æ­£ç¡® | âŒ ä¸å†²çª |
| åˆ¹è½¦è¸æ¿ä½ç½® | æµ®ç‚¹æ•° | 1 ä¸ª | âœ… æ­£ç¡® | âŒ ä¸å†²çª |
| æ–¹å‘ç›˜è§’åº¦ | æµ®ç‚¹æ•° | 1 ä¸ª | âœ… æ­£ç¡® | âŒ ä¸å†²çª |
| åº§æ¤…ä½ç½® | æ•´æ•° | 1 ä¸ª | âœ… æ­£ç¡® | âŒ ä¸å†²çª |
| ç¯å…‰æ§åˆ¶ | **æ•°ç»„** | **å¤šä¸ª** | **âŒ é”™è¯¯** | **âœ… å†²çªï¼ˆå·²ä¿®å¤ï¼‰** |

### **4. Mock é…ç½®çš„æ­£ç¡®æ€§éªŒè¯**

**å½“å‰ Mock é…ç½®ï¼ˆä¿®å¤åï¼‰ï¼š**
```python
listOfSignals = [
    #{"signal": "Vehicle.Body.Lights.ExteriorLightControl", "value": [1, 2, 3]},  # âœ… å·²æ³¨é‡Š
    {"signal": "Vehicle.Chassis.Accelerator.PedalPositionControl", "value": [1, 2]},  # âœ… ä¿ç•™
    {"signal": "Vehicle.Chassis.Brake.PedalPositionControl", "value": [1, 2]},        # âœ… ä¿ç•™
    {"signal": "Vehicle.Chassis.SteeringWheel.AngleControl", "value": [1, 2]},        # âœ… ä¿ç•™
    {"signal": "Vehicle.Powertrain.StartStop.StartControl", "value": [1, 2]},         # âœ… ä¿ç•™
]
```

**ä¸ºä»€ä¹ˆè¿™äº›ä¿¡å·ä¿ç•™ Mockï¼š**
1. **æ²¹é—¨/åˆ¹è½¦/è½¬å‘ï¼š** å•ä¸€æ§åˆ¶æºï¼ŒMock çš„è¦†ç›–è¡Œä¸ºæ­£ç¡®
2. **å¯åŠ¨æ§åˆ¶ï¼š** å•ä¸€æ§åˆ¶æºï¼ŒMock çš„è¦†ç›–è¡Œä¸ºæ­£ç¡®
3. **ç¯å…‰æ§åˆ¶ï¼š** å·²ç§»é™¤ï¼Œé¿å…å¤šå®¢æˆ·ç«¯å†²çª

### **5. è®¾è®¡åŸåˆ™æ€»ç»“**

**ä½•æ—¶åº”è¯¥ä½¿ç”¨ Mockï¼š**
- âœ… å•ä¸€æ§åˆ¶æºçš„æ‰§è¡Œå™¨ä¿¡å·
- âœ… ç®€å•æ•°æ®ç±»å‹ï¼ˆint, float, boolï¼‰
- âœ… å€¼çš„æ›´æ–°æ˜¯æ›¿æ¢è€Œéç´¯åŠ 

**ä½•æ—¶ä¸åº”è¯¥ä½¿ç”¨ Mockï¼š**
- âŒ å¤šä¸ªæ§åˆ¶æºåŒæ—¶å†™å…¥çš„ä¿¡å·
- âŒ æ•°ç»„æˆ–å¤æ‚ç»“æ„éœ€è¦åˆå¹¶çš„ä¿¡å·
- âŒ éœ€è¦çŠ¶æ€ç´¯åŠ æˆ–åˆå¹¶çš„ä¿¡å·

**æ‚¨çš„åç»­å®ç°ç­–ç•¥ï¼š**
```
âœ… æ²¹é—¨æ§åˆ¶ Applet
   - å•ä¸€æ§åˆ¶æº
   - æµ®ç‚¹æ•°ç±»å‹
   - Mock ä¿æŒé…ç½® âœ…
   - ä¸ä¼šå†²çª âœ…

âœ… åˆ¹è½¦æ§åˆ¶ Applet
   - å•ä¸€æ§åˆ¶æº
   - æµ®ç‚¹æ•°ç±»å‹
   - Mock ä¿æŒé…ç½® âœ…
   - ä¸ä¼šå†²çª âœ…

âœ… è½¬å‘æ§åˆ¶ Applet
   - å•ä¸€æ§åˆ¶æº
   - æµ®ç‚¹æ•°ç±»å‹
   - Mock ä¿æŒé…ç½® âœ…
   - ä¸ä¼šå†²çª âœ…

âœ… ç¯å…‰æ§åˆ¶ Applets
   - å¤šä¸ªæ§åˆ¶æº
   - æ•°ç»„ç±»å‹
   - Mock å·²ç§»é™¤ âœ…
   - å·²ä¿®å¤å†²çª âœ…
```

---

## ğŸ“Š å®Œæ•´çš„é—®é¢˜å¯¹æ¯”è¡¨

### **ä¿®å¤å‰ vs ä¿®å¤å**

| å¯¹æ¯”é¡¹ | ä¿®å¤å‰ | ä¿®å¤å |
|-------|-------|-------|
| **Mock é…ç½®** | åŒ…å« ExteriorLightControl | âŒ å·²ç§»é™¤ |
| **ç¯å…‰ä¿¡å·æ‹¦æˆª** | âœ… Mock æ‹¦æˆª | âŒ Mock ä¸æ‹¦æˆª |
| **å¤šå®¢æˆ·ç«¯åè°ƒ** | âŒ è¢«ç ´å | âœ… æ­£å¸¸å·¥ä½œ |
| **åŒé—ª + å€’è½¦ç¯** | âŒ å†²çªï¼ˆåŒé—ªä¸¢å¤±ï¼‰ | âœ… åŒæ—¶å·¥ä½œ |
| **æ²¹é—¨æ§åˆ¶** | âœ… æ­£å¸¸ | âœ… æ­£å¸¸ |
| **åˆ¹è½¦æ§åˆ¶** | âœ… æ­£å¸¸ | âœ… æ­£å¸¸ |
| **SOME-IP Feeder** | è¯»å–ä¸å®Œæ•´çŠ¶æ€ | âœ… è¯»å–å®Œæ•´çŠ¶æ€ |

### **æ•°æ®æµå¯¹æ¯”**

**ä¿®å¤å‰ï¼ˆæœ‰é—®é¢˜ï¼‰ï¼š**
```
AWS Frontend â†’ [15,1,125] â†’ DataBroker
                              â†“
                           Mock æ‹¦æˆª â†’ å†™å› [15,1,125]
Python App â†’ [16,1,125] â†’ DataBroker (åˆå¹¶: [15,1,125,16,1,125])
                              â†“
                           Mock æ‹¦æˆª â†’ è¦†ç›–å†™å› [16,1,125] âŒ
                              â†“
                         SOME-IP Feeder â†’ åªçœ‹åˆ° [16,1,125]
                              â†“
                         ç¡¬ä»¶ â†’ åŒé—ªä¸¢å¤± âŒ
```

**ä¿®å¤åï¼ˆæ­£å¸¸ï¼‰ï¼š**
```
AWS Frontend â†’ [15,1,125] â†’ DataBroker
Python App â†’ [16,1,125] â†’ DataBroker (åˆå¹¶: [15,1,125,16,1,125])
                              â†“
                         SOME-IP Feeder â†’ è¯»åˆ°å®Œæ•´æ•°ç»„ âœ…
                              â†“
                         ç¡¬ä»¶ â†’ åŒé—ª + å€’è½¦ç¯åŒæ—¶å·¥ä½œ âœ…
```

---

## âœ… æœ€ç»ˆç»“è®º

### **1. ç³»ç»Ÿæ¶æ„ç†è§£ï¼ˆçº æ­£åï¼‰**

- âœ… **ç”Ÿäº§ç¯å¢ƒæ²¡æœ‰ simulator**ï¼ˆæ˜¯å¼€å‘å·¥å…·ï¼‰
- âœ… **SOME-IP Feeder è´Ÿè´£ä¿¡å·è½¬æ¢**ï¼ˆåŒ…å«å®Œæ•´é€»è¾‘ï¼‰
- âœ… **Mock æ˜¯å”¯ä¸€çš„é—®é¢˜æº**ï¼ˆæ‹¦æˆªå¹¶è¦†ç›–ç¯å…‰ä¿¡å·ï¼‰

### **2. ä¿®å¤æ–¹æ¡ˆç¡®è®¤**

- âœ… **åªéœ€ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶**ï¼š`vehicle-mock/app/mock.py`
- âœ… **åªéœ€æ³¨é‡Šä¸€è¡Œä»£ç **ï¼šExteriorLightControl é…ç½®
- âœ… **ä¸éœ€è¦ä¿®æ”¹å…¶ä»–æ–‡ä»¶**ï¼šmockservice.py, simulator, applet-manager

### **3. ä¿®å¤åŸç†**

- âœ… Mock æ˜¯é…ç½®é©±åŠ¨çš„ï¼Œç§»é™¤é…ç½®å³åœæ­¢æ‹¦æˆª
- âœ… DataBroker è‡ªåŠ¨å¤„ç†å¤šå®¢æˆ·ç«¯åè°ƒ
- âœ… SOME-IP Feeder è¯»å–å®Œæ•´çŠ¶æ€å¹¶è½¬æ¢

### **4. åç»­æ‰©å±•å®‰å…¨æ€§**

- âœ… **æ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘æ§åˆ¶ä¸ä¼šå†²çª**
  - å•ä¸€æ§åˆ¶æº
  - ç®€å•æ•°æ®ç±»å‹
  - Mock çš„è¦†ç›–è¡Œä¸ºæ­£ç¡®
  
- âœ… **ç¯å…‰æ§åˆ¶å·²ä¿®å¤**
  - å¤šä¸ªæ§åˆ¶æº
  - æ•°ç»„æ•°æ®ç±»å‹
  - Mock å·²ç§»é™¤ï¼Œä¸å†å¹²é¢„

### **5. è®¾è®¡åŸåˆ™**

**Mock åº”è¯¥ç”¨äºï¼š**
- âœ… å•ä¸€æ§åˆ¶æºçš„æ‰§è¡Œå™¨
- âœ… ç®€å•æ•°æ®ç±»å‹
- âœ… å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿç¡¬ä»¶åé¦ˆ

**Mock ä¸åº”è¯¥ç”¨äºï¼š**
- âŒ å¤šä¸ªæ§åˆ¶æºçš„å¤æ‚ä¿¡å·
- âŒ éœ€è¦çŠ¶æ€åˆå¹¶çš„æ•°ç»„ä¿¡å·
- âŒ ç”Ÿäº§ç¯å¢ƒï¼ˆæœ‰çœŸå® SOME-IP Feederï¼‰

---

## ğŸ‰ æ€»ç»“

**è¿™ä¸ªé—®é¢˜çš„æœ¬è´¨ï¼š**
1. Mock è®¾è®¡æ­£ç¡®ï¼Œä½†é…ç½®ä¸å½“
2. ç¯å…‰ä¿¡å·çš„å¤šå®¢æˆ·ç«¯ç‰¹æ€§è¢«å¿½ç•¥
3. ç®€å•çš„é…ç½®ä¿®æ”¹å³å¯è§£å†³

**ä¿®å¤çš„ä¼˜é›…ä¹‹å¤„ï¼š**
1. åªéœ€æ³¨é‡Šä¸€è¡Œä»£ç 
2. ä¸ç ´åå…¶ä»–åŠŸèƒ½
3. ç¬¦åˆæ¶æ„è®¾è®¡åŸåˆ™
4. æ˜“äºç†è§£å’Œç»´æŠ¤

**æ‚¨çš„ç³»ç»Ÿç°åœ¨ï¼š**
- âœ… ç¯å…‰æ§åˆ¶æ­£å¸¸å·¥ä½œï¼ˆå¤šä¸ª App ååŒï¼‰
- âœ… åç»­æ‰©å±•å®‰å…¨ï¼ˆæ²¹é—¨ã€åˆ¹è½¦ã€è½¬å‘ï¼‰
- âœ… æ¶æ„æ¸…æ™°ï¼ˆMock ç”¨é€”æ˜ç¡®ï¼‰
- âœ… æ˜“äºéƒ¨ç½²å’Œæµ‹è¯•

**ä¿®å¤æ–¹æ¡ˆå·²éªŒè¯å®Œæ¯•ï¼** ğŸš€
